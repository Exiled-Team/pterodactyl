{
    "_comment": "DO NOT EDIT: FILE GENERATED AUTOMATICALLY BY PTERODACTYL PANEL - PTERODACTYL.IO",
    "meta": {
        "version": "PTDL_v2",
        "update_url": null
    },
    "exported_at": "2023-04-28T09:30:24-04:00",
    "name": "SCP:SL-Global",
    "author": "joker@jokersplaygrounds.com",
    "description": "Installs the game SCP: Secret Laboratory with Exiled.",
    "features": null,
    "docker_images": {
        "joker119\/scp_image:Global": "joker119\/scp_image:Global"
    },
    "file_denylist": [],
    "startup": ".\/LocalAdmin {{SERVER_PORT}} -c -- -sharenonconfigs -configpath \/home\/container\/scp_server\/servers\/server1",
    "config": {
        "files": "{\r\n    \r\n}",
        "startup": "{\"done\": \"Waiting for players\"}",
        "logs": "{\r\n    \"custom\": false,\r\n    \"location\": \"logs\/latest.log\"\r\n}",
        "stop": "exit"
    },
    "scripts": {
        "installation": {
            "script": "#!\/bin\/bash\r\nEX=\"\"\r\n\r\nif [ ! -z \"$SPECIAL_BRANCH\" ]; then\r\n    EX=\"-beta $SPECIAL_BRANCH\"\r\n    if [ ! -z \"$BRANCH_PASSWORD\" ]; then\r\n        EX=\"-beta $SPECIAL_BRANCH -betapassword $BRANCH_PASSWORD\"\r\n    fi\r\nfi\r\n\r\ndpkg --add-architecture i386\r\napt-get update\r\napt-get install lib32gcc1 wget curl tar whiptail -y\r\nsleep 1\r\n\r\ncd \/mnt\/server\r\n\r\nif [[ -f \"steamcmd_linux.tar.gz\" ]]; then\r\n    rm -rf steamcmd_linux.tar.gz\r\nfi\r\nwget https:\/\/steamcdn-a.akamaihd.net\/client\/installer\/steamcmd_linux.tar.gz\r\ntar -xzvf steamcmd_linux.tar.gz\r\nsleep 1\r\n\r\n.\/steamcmd.sh +force_install_dir \/mnt\/server\/scp_server +login anonymous +app_update 996560 validate $EX +quit &&\r\necho \"Downloading EXILED..\"\r\nif [ -f Exiled.Installer-Linux ]; then\r\n    rm -rf Exiled.Installer-Linux\r\nfi\r\n\r\nwget https:\/\/github.com\/Exiled-Team\/EXILED\/releases\/latest\/download\/Exiled.Installer-Linux\r\necho \"Installing EXILED..\"\r\nls\r\nchmod +x Exiled.Installer-Linux\r\nEXTRA=\"\"\r\nif [ $PRE_RELEASE == 1 ]; then\r\n    EXTRA=\"--pre-releases\"\r\nfi\r\nif [ ! -z \"$EXILED_VER\" ]; then\r\n    EXTRA=\"--target-version $EXILED_VER\"\r\nfi\r\n\r\nif [ \"$EXILED_VER\" != \"-1\" ]; then\r\n    .\/Exiled.Installer-Linux -p \/mnt\/server\/scp_server --appdata \/mnt\/server\/.config --pre-releases --exit\r\nfi\r\necho \"Installing Discord Integration bot..\"\r\nif [ ! -d \"DiscordIntegration\" ]; then\r\n    mkdir DiscordIntegration\r\n    cd DiscordIntegration\r\n    wget https:\/\/github.com\/Exiled-Team\/DiscordIntegration\/releases\/latest\/download\/DiscordIntegration.bot\r\n    mkdir logs\r\nfi\r\n\r\ncd scp_server\r\n\r\nif [ ! -d \"\/mnt\/server\/.config\" ]; then\r\n    mkdir \"\/mnt\/server\/.config\"\r\nfi\r\n\r\nif [ ! -d \"\/mnt\/server\/.config\/SCP Secret Laboratory\" ]; then\r\n    mkdir \"\/mnt\/server\/.config\/SCP Secret Laboratory\"\r\nfi\r\n\r\nif [ ! -d \"\/mnt\/server\/scp_server\/servers\/server1\" ]; then\r\n    mkdir -p \"\/mnt\/server\/scp_server\/servers\/server1\"\r\nfi\r\n\r\necho \"Installation complete!\"",
            "container": "mono:6",
            "entrypoint": "bash"
        }
    },
    "variables": [
        {
            "name": "Use Pre Releases",
            "description": "Whether or not to use pre-releases of EXILED.",
            "env_variable": "PRE_RELEASE",
            "default_value": "0",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|boolean|max:20",
            "field_type": "text"
        },
        {
            "name": "Special Branch",
            "description": "Use this to tell the panel that you would like to install a specific SCP:SL branch (used for Public Test Builds etc)",
            "env_variable": "SPECIAL_BRANCH",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string|max:20",
            "field_type": "text"
        },
        {
            "name": "EXILED Version",
            "description": "Allows your to specify what version of EXILED to install on the server.",
            "env_variable": "EXILED_VER",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string|max:20",
            "field_type": "text"
        },
        {
            "name": "Branch Password",
            "description": "Special password for your branch, if there is one",
            "env_variable": "BRANCH_PASSWORD",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string|max:40",
            "field_type": "text"
        }
    ]
}
